#!/bin/bash

# map caps lock to control
xmodmap -e 'keycode 66 = Control_L'
xmodmap -e 'clear Lock'
xmodmap -e 'add Control = Control_L'
xcape -e 'Control_L=Escape'

# remove everything from mod4
xmodmap -e "clear mod4"

# map return to return/control
spare_modifier_1="Super_L"
xmodmap -e "remove mod4 = $spare_modifier_1"
xmodmap -e "keycode 36 = $spare_modifier_1"
xmodmap -e "add Control = $spare_modifier_1"
xmodmap -e "keycode any = Return"
xcape -e "$spare_modifier_1=Return"

# map tab to tab/super
spare_modifier_2="Hyper_R"
xmodmap -e "keycode 23 = $spare_modifier_2"
xmodmap -e "add mod4 = Hyper_R"
xmodmap -e "keycode any = Tab"
xcape -e "$spare_modifier_2=Tab"

# map backslash to backslash/super
spare_modifier_3="Hyper_L"
xmodmap -e "keycode 51 = $spare_modifier_3"
xmodmap -e "add mod4 = Hyper_L"
xmodmap -e "keycode any = backslash"
xcape -e "$spare_modifier_3=backslash"
